# AI 提示词管理器

AI 提示词管理器是一个 Chrome/Edge 浏览器扩展，帮助用户组织和管理 AI 提示词。通过将提示词按主题分类，您可以快速访问和复制它们，以便在 deepseek, kimi, qwen 等网页中使用。

## 功能特色

- **主题分类**：将提示词组织到不同的主题中，便于管理
- **快速复制**：一键复制单个或全部提示词到剪贴板
- **拖放排序**：在主题内通过拖放重新排列提示词顺序
- **搜索功能**：在所有主题和提示词中快速搜索
- **导入/导出**：以 JSON 格式备份和恢复数据
- **键盘快捷键**：使用 `Ctrl+Shift+V` (Mac: `Cmd+Shift+V`) 快速访问
- **侧边栏支持**：在支持的页面中通过侧边栏访问
- **响应式设计**：适配不同屏幕尺寸

## 安装说明

### 开发模式安装

1. 克隆或下载此仓库到本地
2. 打开 Chrome 浏览器，访问 `chrome://extensions/`
3. 启用右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择仓库中的 `extension` 文件夹

### 更新扩展

如果需要更新扩展，只需重复安装步骤即可。

## 使用说明

### 管理主题

- **新建主题**：点击"新建主题"按钮，输入主题名称
- **编辑主题**：在主题列表中点击"编辑"按钮修改主题名称
- **删除主题**：在主题列表中点击"删除"按钮，确认后删除主题及其所有提示词

### 管理提示词

- **添加提示词**：进入特定主题后，点击"新建提示"按钮添加提示词
- **编辑提示词**：在提示词列表中点击"编辑"按钮修改内容
- **删除提示词**：在提示词列表中点击"删除"按钮
- **复制单个提示词**：点击"复制"按钮将单个提示词复制到剪贴板
- **复制全部提示词**：在主题视图中点击"复制全部"复制该主题下所有提示词
- **重排序提示词**：在主题内拖放提示词项以重新排列顺序

### 搜索功能

使用顶部搜索框可在所有主题名称和提示词内容中进行实时搜索。搜索结果会显示匹配的主题和提示词。

### 导入和导出

- **导出数据**：点击"导出"按钮将所有主题和提示词保存为 JSON 文件
- **导入数据**：点击"导入"按钮从 JSON 文件恢复数据（会覆盖当前所有数据）

### 键盘快捷键

- `Ctrl+Shift+V` (Mac: `Cmd+Shift+V`)：打开/切换 AI 提示词管理器

## 技术架构

### 文件结构

```
extension/
├── manifest.json          # 扩展清单 (Manifest V3)
├── keyboard-shortcuts.js  # 键盘快捷键处理
├── popup/
│   ├── popup.html         # 主弹出窗口界面
│   ├── popup.css          # 样式文件，使用现代卡片设计
│   └── popup.js           # 核心应用程序逻辑
├── js/
│   └── background.js      # 后台脚本，处理键盘快捷键和侧边栏
└── icons/
    ├── icon-16.png
    ├── icon-48.png
    └── icon-128.png
```

### 核心功能

1. **应用状态管理** (`popup.js`)

   - 全局 `appState` 对象管理所有应用程序状态
   - 使用 `chrome.storage.local` 进行数据持久化
   - 状态包括：主题、当前主题、搜索查询、视图模式

2. **数据存储**

   - 使用 `chrome.storage.local` 存储数据
   - 数据结构：`{ categories: [{ id, name, prompts: [{ id, content }] }] }`
   - 包含示例数据，供新安装使用

3. **视图系统**

   - 两种主要视图：'categories' 和 'prompts'
   - 通过显示/隐藏 DOM 元素进行视图切换
   - 返回按钮在视图间导航

4. **搜索功能**

   - 实时搜索主题名称和提示词内容
   - 过滤结果存储在 `appState.filteredCategories` 中
   - 搜索自动切换到主题视图

### 关键功能

- **拖放重排序**：提示词可在主题内拖放重排序
- **复制功能**：支持单个提示词或主题内全部提示词的复制
- **响应式设计**：适配不同屏幕尺寸
- **视觉反馈**：复制确认的动画效果

## 开发

### 依赖

此项目不使用任何外部构建工具或框架，使用纯 HTML/CSS/JavaScript。

### 运行和测试

1. 按照安装说明加载扩展
2. 使用 Chrome 开发者工具的扩展窗口选项卡进行调试
3. 存储调试可通过 Chrome 开发者工具 → 应用 → 存储 → 本地存储 查看

### 添加新功能

1. 如需要，更新 `appState` 结构
2. 在 `popup.html` 中添加 UI 元素
3. 使用现有模式进行 CSS 样式设计
4. 在 `popup.js` 中实现逻辑
5. 确保通过 `saveData()` 实现数据持久化

## 故障排除

### 常见问题

1. **扩展不显示**：

   - 确认在 Chrome 扩展页面中启用了开发者模式
   - 确认已正确加载扩展文件夹

2. **数据未保存**：

   - 检查浏览器是否允许扩展使用本地存储
   - 确认 Chrome 版本支持 Manifest V3

3. **键盘快捷键不工作**：
   - 确认快捷键未与其他扩展或系统快捷键冲突
   - 在扩展管理页面检查快捷键设置

## 贡献

欢迎提交问题报告和拉取请求。对于重大更改，请先开一个 issue 来讨论您想要更改的内容。

## 许可证

本项目采用 MIT 许可证。详细信息请参阅 [LICENSE](./LICENSE) 文件。
