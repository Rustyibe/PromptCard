<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AI Prompt Manager</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <main class="container" aria-modal="true">
      <div class="header">
        <div class="header-content">
          <button id="backBtn" class="back-btn" style="display: none">
            <span>←</span>
            返回
          </button>
          <h1 id="pageTitle">AI 提示词管理器</h1>
        </div>
      </div>

      <div class="search-box">
        <input type="text" id="searchInput" placeholder="搜索提示词..." />
      </div>

      <div id="categoriesView" class="main-content">
        <div class="categories-panel">
          <div class="categories-header">
            <h2>主题</h2>
            <div class="category-actions">
              <button id="importBtn" class="import-btn">
                <span>📂</span>
                导入
              </button>
              <button id="exportBtn" class="export-btn">
                <span>📤</span>
                导出
              </button>
              <button id="addCategoryBtn" class="add-btn">
                <span>+</span>
                新建主题
              </button>
            </div>
          </div>
          <ul id="categoriesList" class="categories-list"></ul>
        </div>
      </div>

      <div id="promptsView" class="main-content" style="display: none">
        <div class="prompts-panel">
          <div class="prompts-header">
            <h2 id="selectedCategoryTitle">选择一个主题</h2>
            <div class="prompt-actions">
              <button id="addPromptBtn" class="add-btn">
                <span>+</span>
                新建提示
              </button>
              <button id="copyAllBtn" class="action-btn">复制全部</button>
            </div>
          </div>
          <ul id="promptsList" class="prompts-list"></ul>
        </div>
      </div>
    </main>

    <div
      id="promptEditorModal"
      class="modal"
      style="display: none"
      role="dialog"
      aria-modal="true"
      aria-labelledby="promptEditorTitle"
    >
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="promptEditorTitle">编辑</h3>
          <button id="promptEditorClose" class="modal-close" aria-label="关闭">
            ×
          </button>
        </div>
        <div class="modal-body">
          <input
            id="promptEditorInput"
            type="text"
            placeholder="输入名称..."
            style="display: none"
          />
          <textarea
            id="promptEditorTextarea"
            placeholder="在这里输入提示词，支持多行..."
            rows="6"
          ></textarea>
          <div class="modal-meta">
            <span id="promptLength">0 字符</span>
          </div>
        </div>
        <div class="modal-footer">
          <button id="promptEditorCancel" class="btn-secondary">
            取消 (Esc)
          </button>
          <button id="promptEditorSave" class="btn-primary">
            保存 (Ctrl+Enter)
          </button>
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
